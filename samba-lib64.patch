diff -urN samba-3.0.23b.org/source/aclocal.m4 samba-3.0.23b/source/aclocal.m4
--- samba-3.0.23b.org/source/aclocal.m4	2006-06-23 15:16:53.000000000 +0200
+++ samba-3.0.23b/source/aclocal.m4	2006-08-09 21:19:38.914290750 +0200
@@ -564,7 +564,7 @@
   fi
 
   AC_REQUIRE([AC_CANONICAL_TARGET])
-  AC_PATH_PROG(PGSQL_CONFIG, pg_config, no, [$PATH:/usr/lib/postgresql/bin])
+  AC_PATH_PROG(PGSQL_CONFIG, pg_config, no, [$PATH:/usr/lib64/postgresql/bin])
   AC_MSG_CHECKING(for PGSQL)
   no_pgsql=""
   if test "$PGSQL_CONFIG" = "no" ; then
@@ -594,12 +594,12 @@
   $1=[$]ac_new_flags
 ])
     
-dnl Removes -L/usr/lib/? from given variable
+dnl Removes -L/usr/lib64/? from given variable
 AC_DEFUN(LIB_REMOVE_USR_LIB,[
   ac_new_flags=""
   for i in [$]$1; do
     case [$]i in
-    -L/usr/lib|-L/usr/lib/) ;;
+    -L/usr/lib64|-L/usr/lib64/) ;;
     *) ac_new_flags="[$]ac_new_flags [$]i" ;;
     esac
   done
@@ -719,9 +719,9 @@
 ])
 
 dnl LIB_ADD_DIR(LDFLAGS, $LIBDIR)
-dnl This function doesn't add -L/usr/lib into LDFLAGS
+dnl This function doesn't add -L/usr/lib64 into LDFLAGS
 AC_DEFUN(LIB_ADD_DIR,[
-if test "$2" != "/usr/lib" ; then
+if test "$2" != "/usr/lib64" ; then
     $1="$$1 -L$2"
 fi
 ])
diff -urN samba-3.0.23b.org/source/configure.in samba-3.0.23b/source/configure.in
--- samba-3.0.23b.org/source/configure.in	2006-07-21 18:22:57.000000000 +0200
+++ samba-3.0.23b/source/configure.in	2006-08-09 21:20:13.784470000 +0200
@@ -28,7 +28,7 @@
 test "${mandir}" || mandir="\${prefix}/man"
 logfilebase="\${VARDIR}"
 privatedir="\${prefix}/private"
-test "${libdir}" || libdir="\${prefix}/lib"
+test "${libdir}" || libdir="\${prefix}/lib64"
 pammodulesdir="\${LIBDIR}/security"
 configdir="\${LIBDIR}"
 swatdir="\${prefix}/swat"
@@ -42,7 +42,7 @@
     mandir="\${prefix}/share/man"
     logfilebase="\${VARDIR}/log/samba"
     privatedir="\${CONFIGDIR}/private"
-    libdir="\${prefix}/lib/samba"
+    libdir="\${prefix}/lib64/samba"
     configdir="${sysconfdir}/samba"
     swatdir="\${DATADIR}/samba/swat"
     ;;
@@ -811,7 +811,7 @@
 # Note: iconv does that explicitly below, but other packages
 # don't.
 	CPPFLAGS="$CPPFLAGS -I/sw/include"
-	LDFLAGS="$LDFLAGS -L/sw/lib"
+	LDFLAGS="$LDFLAGS -L/sw/lib64"
 
 # If we have dlsym_prepend_underscore (from Fink's dlcompat),
 # use that instead of plain dlsym.
@@ -1183,7 +1183,7 @@
     _cppflags=${CPPFLAGS}
 
     # Add additional search path
-    LDFLAGS="-L$with_readline/lib $LDFLAGS"
+    LDFLAGS="-L$with_readline/lib64 $LDFLAGS"
     CPPFLAGS="-I$with_readline/include $CPPFLAGS"
 
     AC_CHECK_HEADERS(readline.h history.h readline/readline.h)
@@ -1194,7 +1194,7 @@
        AC_CHECK_LIB(${termlib}, tgetent, [TERMLIBS="-l${termlib}"; break])
       done
       AC_CHECK_LIB(readline, rl_callback_handler_install,
-       [TERMLDFLAGS="-L$with_readline/lib"
+       [TERMLDFLAGS="-L$with_readline/lib64"
        TERMCPPFLAGS="-I$with_readline/include"
        CPPFLAGS="-I$with_readline/include $CPPFLAGS"
        TERMLIBS="-lreadline $TERMLIBS"
@@ -2280,7 +2280,7 @@
 ICONV_LOCATION=standard
 LOOK_DIRS="/usr /usr/local /sw /opt"
 AC_ARG_WITH(libiconv,
-[  --with-libiconv=BASEDIR Use libiconv in BASEDIR/lib and BASEDIR/include (default=auto) ],
+[  --with-libiconv=BASEDIR Use libiconv in BASEDIR/lib64 and BASEDIR/include (default=auto) ],
 [
   if test "$withval" = "no" ; then
     AC_MSG_ERROR([argument to --with-libiconv must be a directory])
@@ -3307,7 +3307,7 @@
         AC_MSG_RESULT($withval)
         KRB5_CFLAGS="-I$withval/include"
         KRB5_CPPFLAGS="-I$withval/include"
-        KRB5_LDFLAGS="-L$withval/lib"
+        KRB5_LDFLAGS="-L$withval/lib64"
         FOUND_KRB5=yes
 	if test -x "$withval/bin/krb5-config"; then
 		KRB5CONFIG=$withval/bin/krb5-config
@@ -3344,10 +3344,10 @@
     # see if this box has the SuSE location for the heimdal krb implementation
     AC_MSG_CHECKING(for /usr/include/heimdal)
     if test -d /usr/include/heimdal; then
-      if test -f /usr/lib/heimdal/lib/libkrb5.a; then
+      if test -f /usr/lib64/heimdal/lib/libkrb5.a; then
           KRB5_CFLAGS="-I/usr/include/heimdal"
           KRB5_CPPFLAGS="-I/usr/include/heimdal"
-          KRB5_LDFLAGS="-L/usr/lib/heimdal/lib"
+          KRB5_LDFLAGS="-L/usr/lib64/heimdal/lib"
           AC_MSG_RESULT(yes)
       else
           KRB5_CFLAGS="-I/usr/include/heimdal"
@@ -5636,7 +5636,7 @@
 SMBD_LIBS="$samba_fam_libs $samba_dmapi_libs"
 AC_SUBST(SMBD_LIBS)
 
-dnl Remove -L/usr/lib/? from LDFLAGS and LIBS
+dnl Remove -L/usr/lib64/? from LDFLAGS and LIBS
 LIB_REMOVE_USR_LIB(LDFLAGS)
 LIB_REMOVE_USR_LIB(LIBS)
 
diff -urN samba-3.0.23b.org/source/torture/nsstest.c samba-3.0.23b/source/torture/nsstest.c
--- samba-3.0.23b.org/source/torture/nsstest.c	2006-04-20 04:29:44.000000000 +0200
+++ samba-3.0.23b/source/torture/nsstest.c	2006-08-09 21:19:38.922291250 +0200
@@ -21,7 +21,7 @@
 
 #include "includes.h"
 
-static const char *so_path = "/lib/libnss_winbind.so";
+static const char *so_path = "/lib64/libnss_winbind.so";
 static const char *nss_name = "winbind";
 static int nss_errno;
 static NSS_STATUS last_error;
